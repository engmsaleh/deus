<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"

"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

<title>Visualizzazione markers da file XML</title>

<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAzr2EBOXUKnm_jVnk0OJI7xSosDVG8KKPE1-m51RBrvYughuyMxQ-i1QfUnH94QxWIa6N4U6MouMmBA"
            type="text/javascript"></script> 

<script type="text/javascript">

function loadAllNodes() {

	 
	GDownloadUrl("marker_ALL.xml?"+ new Date().valueOf() , function(data, responseCode) {

		var xml = GXml.parse(data);
		var allMarkers = xml.documentElement.getElementsByTagName("marker");
		
		document.form1.fieldB.options[0] = new Option("ALL",0);	
		document.form1.fieldB.options[0].defaultSelected = true;

		for (var i = 0; i < allMarkers.length; i++) {
	
			var titolo = (allMarkers[i].getAttribute("descriz"));
	 		option = new Option(titolo,i+1)
	    		document.form1.fieldB.options[i+1] = option;
		}
	});
  
}
 
function loadSingleNode()
{
  //alert(document.form1.fieldB.options[document.form1.fieldB.value].innerHTML);
  window.location = 'marker_v4.html?idPeer='+document.form1.fieldB.options[document.form1.fieldB.value].innerHTML;
} 

function openSwithStationEditor()
{
   //alert(document.form1.fieldB.options[document.form1.fieldB.value].innerHTML);
  window.location = 'ssEditor.html';
}

function openPolyEditor()
{
   //alert(document.form1.fieldB.options[document.form1.fieldB.value].innerHTML);
  window.location = 'polygonEditor.html';
}


</script>

<style type="text/css">
<!--
body,td,th {
	font-family: Helvetica;
	color: #0000CC;
}
body {
	background-color: #FFFFFF;
}
-->
</style></head>

<p align="center"><img src="http://dsg.ce.unipr.it/drupal/userfiles/image/deus/DEUS_LOGO_3_small.jpg"/></p>
<form name="form1">
  <div align="center">
    <table border="1" cellpadding="5" cellspacing="5">
    <tr>
      <th>Map Viewer</th>
      <th>Switch Station Editor</th>
      <th>Polygon Editor</th>
    </tr>
    <tr>
      <td align="center">
	<p>
	<select name="fieldB">
	  <option size="15">  Select a Node  </option>
	</select>
	</p>
	<p>
	  <input type="button" value="Load Node List" name="choice" onclick="loadAllNodes()">
	</p>
	<p>	
	  <input type="button" value="Load Node Map" name="load" onclick="loadSingleNode()">
	</p>
      </td>
      <td align="center">
	<p>
	  <input type="button" value="Open Editor" name="choice" onclick="openSwithStationEditor()">
	</p>
      </td>
      <td align="center">
	<p>
	  <input type="button" value="Open Editor" name="choice" onclick="openPolyEditor()">
	</p>
      </td>
    </tr>
    </table>
  </div>
</form>
</body>
</html>
