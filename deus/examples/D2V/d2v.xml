<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<automator xmlns="http://dsg.ce.unipr.it/software/deus/schema/automator">
    <event handler="it.unipr.ce.dsg.deus.example.d2v.D2VDiscoveryEvent" id="Discovery">
        <params>
            <param value="TRUE" name="hasSameAssociatedNode"/>
        </params>
    </event>
    <event schedulerListener="it.unipr.ce.dsg.deus.example.d2v.D2VTrafficElementBirthScheduler" handler="it.unipr.ce.dsg.deus.example.d2v.D2VTrafficElementBirthEvent" id="TrafficEventBirth"/>
    <event oneShot="true" handler="it.unipr.ce.dsg.deus.example.d2v.D2VPeerMovementEvent" id="PeerMovement"/>
    <event handler="it.unipr.ce.dsg.deus.example.d2v.D2VLogNodeMapEvent" id="LogMapEvent"/>
    <event handler="it.unipr.ce.dsg.deus.example.d2v.D2VLogNodesStatsEvent" id="LogStatEvent"/>
    <event schedulerListener="it.unipr.ce.dsg.deus.example.d2v.D2VBirthSchedulerListener" handler="it.unipr.ce.dsg.deus.example.d2v.D2VBirthEvent" id="Birth">
        <events>
            <reference id="FirstDiscovery"/>
        </events>
    </event>
    <event oneShot="true" schedulerListener="it.unipr.ce.dsg.deus.example.d2v.D2VFirstDiscoverySchedulerListener" handler="it.unipr.ce.dsg.deus.example.d2v.D2VFirstDiscoveryEvent" id="FirstDiscovery">
        <params>
            <param value="20" name="peerListLimit"/>
        </params>
        <events>
            <reference id="PeerMovement"/>
            <reference id="Discovery"/>
        </events>
    </event>
    <node handler="it.unipr.ce.dsg.deus.example.d2v.D2VTrafficElement" id="TrafficElement">
        <params>
            <param value="5000.0" name="period"/>
            <param value="5000.0" name="jamPeriod"/>
            <param value="roadWok" name="type"/>
        </params>
    </node>
    <node handler="it.unipr.ce.dsg.deus.example.d2v.D2VPeer" id="D2VPeer">
        <params>
            <param value="3" name="alpha"/>
            <param value="5" name="k"/>
            <param value="40" name="bucketNodeLimit"/>
            <param value="0.5" name="radiusKm"/>
            <param value="0.1" name="epsilon"/>
            <param value="30.0" name="avgSpeedMax"/>
            <param value="25.0" name="discoveryMinPeriod"/>
            <param value="100.0" name="discoveryMaxPeriod"/>
            <param value="20" name="discoveryPeriodPeerLimit"/>
            <param value="100" name="discoveryMaxPeerNumber"/>
        </params>
    </node>
    <process handler="it.unipr.ce.dsg.deus.impl.process.PeriodicProcess" id="PeriodicDiscovery">
        <params>
            <param value="5" name="period"/>
        </params>
        <events>
            <reference id="Discovery"/>
        </events>
    </process>
    <process handler="it.unipr.ce.dsg.deus.impl.process.PoissonProcess" id="TrafficEventBirthPoissonProcess">
        <params>
            <param value="1000" name="meanArrival"/>
        </params>
        <nodes>
            <reference id="TrafficElement"/>
        </nodes>
        <events>
            <reference id="TrafficEventBirth"/>
        </events>
    </process>
    <process handler="it.unipr.ce.dsg.deus.impl.process.PeriodicProcess" id="LogStatPeriodicProcess">
        <params>
            <param value="25" name="period"/>
        </params>
        <events>
            <reference id="LogStatEvent"/>
        </events>
    </process>
    <process handler="it.unipr.ce.dsg.deus.impl.process.PeriodicProcess" id="LogMaPeriodicProcess">
        <params>
            <param value="5" name="period"/>
        </params>
        <events>
            <reference id="LogMapEvent"/>
        </events>
    </process>
    <process handler="it.unipr.ce.dsg.deus.impl.process.RectangularPulsePeriodicProcess" id="RectangularBirth">
        <params>
            <param value="50" name="period"/>
            <param value="0" name="startVtThreshold"/>
            <param value="5000" name="stopVtThreshold"/>
        </params>
        <nodes>
            <reference id="D2VPeer"/>
        </nodes>
        <events>
            <reference id="Birth"/>
        </events>
    </process>
    <process handler="it.unipr.ce.dsg.deus.impl.process.PoissonProcess" id="PoissonProcess">
        <params>
            <param value="0" name="meanArrival"/>
        </params>
        <events>
            <reference id="PeerMovement"/>
            <reference id="FirstDiscovery"/>
        </events>
    </process>
    <!-- *** SIMULATION *** (10000=10h 100VT = 6 min )-->
    <engine keyspacesize="10000" seed="123456789" maxvt="10000.0">
        <processes>
            <reference id="LogStatPeriodicProcess"/>
            <!-- <reference id="LogMaPeriodicProcess"/>  -->
            <reference id="TrafficEventBirthPoissonProcess"/>
            <reference id="RectangularBirth"/>
        </processes>
    </engine>
</automator>
